#include <ESP8266WiFi.h>
#include <DNSServer.h>
#include <ESP8266WebServer.h>

const byte DNS_PORT = 53;
IPAddress apIP(172, 217, 28, 1);
DNSServer dnsServer;
ESP8266WebServer webServer(80);

String responseHTML = "<!DOCTYPE html>"
"<html lang='en'>"
"<head>"
"<meta charset='utf-8'>"
"<meta name='viewport' content='width=device-width, initial-scale=1'>"
"<title>Iffy Books</title>"
"<style>p {font-family: Georgia, serif; font-size: 180%; text-align: center; padding: 4px;}</style>"
"</head>"
"<body bgcolor='lightpink'>"
"<p>This wi-fi network doesn't connect to the internet. Sorry!</p>"
"<p>To learn how to make a wi-fi access point + web server like this one, check out Iffy Books. It's a bookstore in Philly focused on hacking, free culture, gardening, and zines.</p>"
"<p align='center'><img src='data:image/png;base64,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' alt='Iffy Books logo' /></p>"
"<p>Iffy Books<br />319 N. 11th St. #3D<br />Philadelphia, PA<br/>https://iffybooks.net</p>"
"<p>Have a nice day!</p>"
"</body>"
"</html>";


void setup() {
  pinMode(LED_BUILTIN, OUTPUT);
  digitalWrite(LED_BUILTIN, HIGH);
  delay(200);
  digitalWrite(LED_BUILTIN, LOW);

  WiFi.mode(WIFI_AP);
  WiFi.softAPConfig(apIP, apIP, IPAddress(255, 255, 255, 0));
  WiFi.softAP("Iffy Books Wifi");
  dnsServer.start(DNS_PORT, "*", apIP);
  webServer.onNotFound([]() {
    webServer.send(200, "text/html", responseHTML);
    digitalWrite(LED_BUILTIN, LOW);
    delay(100);
    digitalWrite(LED_BUILTIN, HIGH);
  });
  webServer.begin();
}

void loop() {
 if (WiFi.softAPgetStationNum() == 0)
 {
    delay(100);
 } else {
    delay(100);
    dnsServer.processNextRequest();
    webServer.handleClient();
 }
}
